import{_ as s}from"./chunks/st0005.e55f9391.js";import{_ as a,c as n,o as l,a as e}from"./app.9a9f499d.js";const u=JSON.parse('{"title":"凹语言打印源码位置信息","description":"","frontmatter":{},"headers":[],"relativePath":"smalltalk/st0050.md"}'),p={name:"smalltalk/st0050.md"},o=e('<h1 id="凹语言打印源码位置信息" tabindex="-1">凹语言打印源码位置信息 <a class="header-anchor" href="#凹语言打印源码位置信息" aria-hidden="true">#</a></h1><ul><li>时间：2024-09-16</li><li>撰稿：凹语言 开发组</li><li>转载请注明原文链接：<a href="https://wa-lang.org/smalltalk/st0050.html" target="_blank" rel="noreferrer">https://wa-lang.org/smalltalk/st0050.html</a></li></ul><hr><p>“碎碎念”是本站发布日常随笔的栏目，内容包括项目进展、小点子、有趣的讨论等。自2022年7月凹语言开源以来，“碎碎念”刚好发布50篇。值此中秋佳节之际恭祝大家中秋快乐！</p><p><img src="'+s+`" alt=""></p><p>凹语言发布了 <a href="https://gitee.com/wa-lang/wa/releases/tag/v0.16.0" target="_blank" rel="noreferrer">v0.16.0</a> 中秋特别版本, 其中语言的变化是增加了源码位置信息的预定义常量.</p><ul><li><code>__package__</code>: 当前代码所在包路径, 无类型字符串常量</li><li><code>__FILE__</code>: 当前代码所在文件名, 无类型字符串常量</li><li><code>__LINE__</code>: 当前代码所在文件的行号, 无类型整数常量</li><li><code>__func__</code>: 当前代码所在的具名函数或方法名字, 无类型字符串常量</li></ul><p>可以这样打印源码位置信息:</p><div class="language-wa"><button title="Copy Code" class="copy"></button><span class="lang">wa</span><pre class="shiki" style="background-color:#2e3440ff;"><code><span class="line"><span style="color:#81A1C1;">func</span><span style="color:#D8DEE9FF;"> main {</span></span>
<span class="line"><span style="color:#D8DEE9FF;">	</span><span style="color:#88C0D0;">println</span><span style="color:#D8DEE9FF;">(</span><span style="color:#A3BE8C;">&quot;__package__:&quot;</span><span style="color:#D8DEE9FF;">, __package__)</span></span>
<span class="line"><span style="color:#D8DEE9FF;">	</span><span style="color:#88C0D0;">println</span><span style="color:#D8DEE9FF;">(</span><span style="color:#A3BE8C;">&quot;__FILE__:&quot;</span><span style="color:#D8DEE9FF;">, __FILE__)</span></span>
<span class="line"><span style="color:#D8DEE9FF;">	</span><span style="color:#88C0D0;">println</span><span style="color:#D8DEE9FF;">(</span><span style="color:#A3BE8C;">&quot;__LINE__:&quot;</span><span style="color:#D8DEE9FF;">, __LINE__)</span></span>
<span class="line"><span style="color:#D8DEE9FF;">	</span><span style="color:#88C0D0;">println</span><span style="color:#D8DEE9FF;">(</span><span style="color:#A3BE8C;">&quot;__func__:&quot;</span><span style="color:#D8DEE9FF;">, __func__)</span></span>
<span class="line"><span style="color:#D8DEE9FF;">}</span></span>
<span class="line"></span></code></pre></div><p>执行效果如下:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki" style="background-color:#2e3440ff;"><code><span class="line"><span style="color:#d8dee9ff;">$ wa run hello.wa</span></span>
<span class="line"><span style="color:#d8dee9ff;">__package__: __main__</span></span>
<span class="line"><span style="color:#d8dee9ff;">__FILE__: hello.wa</span></span>
<span class="line"><span style="color:#d8dee9ff;">__LINE__: 4</span></span>
<span class="line"><span style="color:#d8dee9ff;">__func__: main</span></span>
<span class="line"><span style="color:#d8dee9ff;"></span></span></code></pre></div><p>注: 新版全部改用大写字母, 并增加 <code>__COLUMN__</code> 列位置常量.</p>`,12),t=[o];function _(c,r,i,d,E,y){return l(),n("div",null,t)}const F=a(p,[["render",_]]);export{u as __pageData,F as default};

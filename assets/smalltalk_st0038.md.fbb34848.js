import{_ as s,c as a,o as n,a as l}from"./app.9a9f499d.js";const d=JSON.parse('{"title":"凹语言支持函数重载","description":"","frontmatter":{},"headers":[],"relativePath":"smalltalk/st0038.md"}'),p={name:"smalltalk/st0038.md"},e=l(`<h1 id="凹语言支持函数重载" tabindex="-1">凹语言支持函数重载 <a class="header-anchor" href="#凹语言支持函数重载" aria-hidden="true">#</a></h1><ul><li>时间：2024-03-29</li><li>撰稿：凹语言 开发组</li><li>转载请注明原文链接：<a href="https://wa-lang.org/smalltalk/st0038.html" target="_blank" rel="noreferrer">https://wa-lang.org/smalltalk/st0038.html</a></li></ul><hr><p>在新发布的 <a href="https://gitee.com/wa-lang/wa/releases/tag/v0.10.0" target="_blank" rel="noreferrer">v0.10.0</a> 版本中实验性地引入了函数重载的特性。比如<a href="https://gitee.com/wa-lang/wa/tree/master/waroot/src/apple" target="_blank" rel="noreferrer"><code>apple</code></a>标准库有以下代码：</p><div class="language-wa"><button title="Copy Code" class="copy"></button><span class="lang">wa</span><pre class="shiki" style="background-color:#2e3440ff;"><code><span class="line"><span style="color:#616E88;">#wa:generic IncF64</span></span>
<span class="line"><span style="color:#81A1C1;">func</span><span style="color:#D8DEE9FF;"> Inc(arg_Inc_a: </span><span style="color:#81A1C1;">int</span><span style="color:#D8DEE9FF;">) </span><span style="color:#81A1C1;">=&gt;</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">int</span><span style="color:#D8DEE9FF;"> {</span></span>
<span class="line"><span style="color:#D8DEE9FF;">	</span><span style="color:#81A1C1;">return</span><span style="color:#D8DEE9FF;"> arg_Inc_a </span><span style="color:#81A1C1;">+</span><span style="color:#D8DEE9FF;"> </span><span style="color:#B48EAD;">1</span></span>
<span class="line"><span style="color:#D8DEE9FF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#81A1C1;">func</span><span style="color:#D8DEE9FF;"> IncF64(arg_IncF64_f: </span><span style="color:#81A1C1;">f64</span><span style="color:#D8DEE9FF;">) </span><span style="color:#81A1C1;">=&gt;</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">f64</span><span style="color:#D8DEE9FF;"> {</span></span>
<span class="line"><span style="color:#D8DEE9FF;">	</span><span style="color:#81A1C1;">return</span><span style="color:#D8DEE9FF;"> arg_IncF64_f </span><span style="color:#81A1C1;">+</span><span style="color:#D8DEE9FF;"> </span><span style="color:#B48EAD;">1</span></span>
<span class="line"><span style="color:#D8DEE9FF;">}</span></span>
<span class="line"></span></code></pre></div><p>其中<code>Inc</code>函数接收一个<code>int</code>类型的参数，但是通过<code>#wa:generic IncF64</code>编译命令注解也支持接收一个<code>f64</code>类型的参数。比如像下面代码这样使用：</p><div class="language-wa"><button title="Copy Code" class="copy"></button><span class="lang">wa</span><pre class="shiki" style="background-color:#2e3440ff;"><code><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#D8DEE9FF;"> </span><span style="color:#A3BE8C;">&quot;apple&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#81A1C1;">func</span><span style="color:#D8DEE9FF;"> main {</span></span>
<span class="line"><span style="color:#D8DEE9FF;">	</span><span style="color:#88C0D0;">println</span><span style="color:#D8DEE9FF;">(apple.Inc(</span><span style="color:#81A1C1;">int</span><span style="color:#D8DEE9FF;">(</span><span style="color:#B48EAD;">123</span><span style="color:#D8DEE9FF;">)))</span></span>
<span class="line"><span style="color:#D8DEE9FF;">	</span><span style="color:#88C0D0;">println</span><span style="color:#D8DEE9FF;">(apple.Inc(</span><span style="color:#81A1C1;">f64</span><span style="color:#D8DEE9FF;">(</span><span style="color:#B48EAD;">123</span><span style="color:#D8DEE9FF;">)))</span></span>
<span class="line"><span style="color:#D8DEE9FF;">}</span></span>
<span class="line"></span></code></pre></div><p>编译器会在编译时根据参数的类型选择合适的函数调用。目前这是一个实验性的特性，未来开发组将根据真实开发场景做调整和完善，也欢迎社区同学参与讨论。</p>`,8),o=[e];function t(c,r,D,E,i,F){return n(),a("div",null,o)}const _=s(p,[["render",t]]);export{d as __pageData,_ as default};

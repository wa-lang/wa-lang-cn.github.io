# 凹语言瓦力四像门试营业

- 时间：2025-10-26
- 撰稿：凹语言开发组
- 转载请注明原文链接：[https://wa-lang.org/smalltalk/st0090.html](https://wa-lang.org/smalltalk/st0090.html)

---

凹语言在立项之初就把改善中文支持放在了首位，从最初的和Go语言不一样的中文名字导出规则、到2022年7月开源开始就内置了中文关键字，中间更经历过更加激进的中文语法设计，现在这版的中文语法设计是前进一步后退半步的结果。瓦力四像门试营业标志着凹语言中文版编程进入一个新的阶段。

## 1. 瓦力四像门是什么鬼？

瓦力四像门洋名“WASM-4”，是掌机模拟器框架。提供 160px 屏幕、四通道输入及 1bpp 绘图支持。以轻量、快速、安全之姿，构建可于浏览器中即时运行的微型游戏。瓦力四像门就是“WASM-4”游戏的凹语言中文版开发框架。

瓦力四像门老巢在这里：[https://wasm4.org/](https://wasm4.org/)

## 2. 瓦力四像门走两步看看

在 [ST0089](https://wa-lang.org/smalltalk/st0089.html) 碎碎念中，已经展示过凹语言中文版开发生命游戏的例子。现在看看怎么基于瓦力四像门框架，使用凹语言中文编程开发一个展示程序。直接上代码：

```
// 版权 @2025 瓦力四像门-入门 作者。保留所有权利。

引入 "门阀/瓦力四像门"

全局·笑脸 = [8]字节{
	0b11000011,
	0b10000001,
	0b00100100,
	0b00100100,
	0b00000000,
	0b00100100,
	0b10011001,
	0b11000011,
}

#凹:导出 update
函数·更新:
	瓦力四像门·设置绘图颜色(2, 0, 0, 0)
	瓦力四像门·绘制文本("Hello from Wa-lang!", 10, 10)

	游戏手柄 := 瓦力四像门·读取控制键1()
	如果 游戏手柄&瓦力四像门·按键1 != 0:
		瓦力四像门·设置绘图颜色(4, 0, 0, 0)
	完毕

	瓦力四像门·位图块传输(笑脸[:], 76, 76, 8, 8, 瓦力四像门·每像素1位)
	瓦力四像门·绘制文本("Press X to blink", 16, 90)
完毕
```

完整的工程在这里：[https://gitcode.com/wa-lang/wa/tree/master/waroot/examples/w4-hello-wz](https://gitcode.com/wa-lang/wa/tree/master/waroot/examples/w4-hello-wz)

在工程目录输入`wa run`命令执行，效果如下：

![](/st0090-01.png)

## 3. 结语

“瓦力四像门”的试营业，标志着凹语言中文编程进入了新阶段。中文编程的未来需靠大家共筑，我们诚挚地邀请所有心系此道的同仁，共同壮大中文编程生态。
